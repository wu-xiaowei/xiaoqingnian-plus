(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{448:function(a,t,i){"use strict";i.r(t);var s=i(4),e=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"如何快速忽略-git-文件提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何快速忽略-git-文件提交"}},[a._v("#")]),a._v(" 如何快速忽略 Git 文件提交？")]),a._v(" "),t("blockquote",[t("p",[a._v("作者："),t("a",{attrs:{href:"https://space.bilibili.com/12890453/",target:"_blank",rel:"noopener noreferrer"}},[a._v("程序员鱼皮"),t("OutboundLink")],1),a._v("，"),t("a",{attrs:{href:"https://yuyuanweb.feishu.cn/wiki/VC1qwmX9diCBK3kidyec74vFnde",target:"_blank",rel:"noopener noreferrer"}},[a._v("编程导航星球"),t("OutboundLink")],1),a._v(" 编号 1")])]),a._v(" "),t("p",[a._v("当我们使用 IDEA 等开发工具或脚手架创建好新项目后，使用 IDEA 开发工具打开项目，进入底部的 "),t("code",[a._v("Git")]),a._v(" 标签，会发现很多和项目无关的 IDEA 自动生成的工程文件被添加到了 Git 托管。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699348521888-443df7c7-ff16-47a6-a9f8-6fca2db66258.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("但我们是不希望提交这些文件的，没有意义，所以需要使用 "),t("code",[a._v(".gitignore")]),a._v(" 文件来忽略这些文件，不让它们被 Git 托管。")]),a._v(" "),t("p",[a._v("如何编写 .gitignore 文件呢？")]),a._v(" "),t("p",[a._v("其实很简单，不用自己编写！我们在 IDEA 的 Settings => Plugins 中搜索 "),t("code",[a._v(".ignore")]),a._v(" 插件并安装：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699348755922-4a97a0d7-1cbf-47de-a3f4-b1ae3ae81ac6.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("然后在项目根目录处选中右键，使用 .ignore 插件创建 .gitignore 文件：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699348817484-a77c150f-9fc3-476b-b77f-67e141e7a811.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v(".ignore 插件提供了很多默认的 .gitignore 模板，根据自己的项目类型和使用的开发工具进行选择，此处我们选择 Java 和 JetBrains 模板：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699348931526-9608280d-dbfd-4d38-86c1-cb5eecf60017.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("然后可以在项目根目录看到生成的 .gitignore 文件，模板已经包含了常用的 Java 项目忽略清单，比如编译后的文件、日志文件、压缩包等：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349391749-55fd3c6c-cbc4-4ec0-a7d0-73a203cc28d0.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("让我们再手动添加几个要忽略的目录和文件，比如打包生成的 target 目录：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349485840-4da51d88-d92c-49ec-ad7b-066f3e7af601.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("但是，我们会发现，即使有些文件已经添加到了 .gitignore 文件中，在 IDEA 中显示的还是绿色（已被 Git 托管）状态。如下图：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349281523-07d73d50-7cd4-4809-a384-36ac86134327.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("这是因为这些文件已经被 Git 跟踪。而 .gitignore 文件仅影响未跟踪的文件，如果文件已经被 Git 跟踪，那么 .gitignore 文件对它们没有影响。")]),a._v(" "),t("p",[a._v("所以我们需要打开终端，在项目根目录下执行如下命令，取消 Git 跟踪：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--cached")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("执行效果如图：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349241520-7d6a09e0-1119-4ace-9722-33af3276fb22.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("可以看到文件变成了红色（未被 Git 托管）或黄色（被忽略）状态：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349699120-e39169e3-2c77-4730-a24e-685fbcabe474.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("然后，让我们将 .gitignore 文件添加到 Git 暂存区，让它能够被 Git 管理。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/1/1699349777115-eb7b08a4-a5f3-4b2d-b76a-dac90e96bc0d.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("至此，就已经完成一个干净的 Git 仓库项目啦~")])])}),[],!1,null,null,null);t.default=e.exports}}]);