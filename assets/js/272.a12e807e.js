(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{577:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"室友去厕所的功夫-我写了个计算器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#室友去厕所的功夫-我写了个计算器"}},[t._v("#")]),t._v(" 室友去厕所的功夫，我写了个计算器")]),t._v(" "),s("blockquote",[s("p",[t._v("本文作者："),s("a",{attrs:{href:"https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah",target:"_blank",rel:"noopener noreferrer"}},[t._v("程序员鱼皮"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("本站地址："),s("a",{attrs:{href:"https://codefather.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://codefather.cn"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("有人问鱼皮：前端开发到底应该怎么学习？为什么我看了这么多书，还是写不出代码？")]),t._v(" "),s("p",[t._v("答案其实很简单：多写代码，熟能生巧。")]),t._v(" "),s("p",[t._v("不是说一开始就要写多难多复杂的大工程，而是可以发挥自己的想象力，运用教程中学到的知识点，写一些好玩的小代码。多写多练，时间久了，不仅真正学到了知识，也积累的一定的作品，收获了成就感。")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081008174.jpeg",loading:"lazy"}})]),t._v(" "),s("p",[t._v("下面鱼皮给大家分享一则小故事，我利用室友上厕所的时间，写了个计算器。")]),t._v(" "),s("p",[s("strong",[t._v("故事")])]),t._v(" "),s("p",[t._v("一天晚上，室友正在为学校的 Web 开发课程的作业发愁。")]),t._v(" "),s("p",[t._v("室友：“明天就要交网站作业了，可我连要做啥都不知道。来不及了啊，我甚至连上厕所的时间都没有！”")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081008483.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("此时一位"),s("strong",[t._v("乐于助人")]),t._v("的鱼皮路过：“这好办，你去上厕所吧，等你回来直接查收作品。”")]),t._v(" "),s("p",[t._v("于是，室友开心地出门了~")]),t._v(" "),s("p",[t._v("鱼皮开始思考，几分钟的时间，要做什么网站呢？不能太水，最好有点实用性，又要让别人觉得很牛逼。。。")]),t._v(" "),s("p",[t._v("对了，就做个计算器吧！")]),t._v(" "),s("p",[t._v("几分钟后，室友回来了，一个计算器网站已然摆在了室友面前。")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081008769.gif",loading:"lazy"}})]),t._v(" "),s("p",[t._v("室友：“woc牛皮，快教我怎么做！”")]),t._v(" "),s("p",[t._v("鱼皮：“不要急，手把手教你~”")]),t._v(" "),s("h2",{attrs:{id:"五分钟开发计算器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五分钟开发计算器"}},[t._v("#")]),t._v(" "),s("strong",[t._v("五分钟开发计算器")])]),t._v(" "),s("p",[t._v("很多同学会觉得开发一个计算器是很难的，因为计算规则非常多，如何解析复杂的计算公式并求值呢？")]),t._v(" "),s("p",[t._v("其实非常简单，利用 Js 脚本语言强大的计算函数，只要五分钟，就能够开发一个计算功能强大的计算器了！")]),t._v(" "),s("p",[t._v("下面用原生前端开发技术三件套 HTML、CSS、JavaScript，按照前端基本的开发流程来实现一个计算器。")]),t._v(" "),s("h3",{attrs:{id:"_1-开发基本结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-开发基本结构"}},[t._v("#")]),t._v(" "),s("strong",[t._v("1. 开发基本结构")])]),t._v(" "),s("p",[t._v("第一步当然是先写出基本的 HTML 结构，比如显示框和每行三个按钮，代码如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<body><div id="wrapper">  \n<div id="result"></div>  \n<div class="row">    \n<button>+</button>    \n<button>-</button>    \n<button id="ac">AC</button>  \n</div>  <div class="row">    \n<button>/</button>    \n<button>*</button>    \n<button id="getResult">=</button>  \n</div>  <div class="row">    \n<button>7</button>    \n<button>8</button>    \n<button>9</button>  \n</div>  ...</div>\n</body>\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("其中，id 为 result 的 div 标签用于展示计算式和结果。")]),t._v(" "),s("p",[t._v("浏览效果如下：")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081008173.png",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"_2-美化一下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-美化一下"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2. 美化一下")])]),t._v(" "),s("p",[t._v("现在的网站只有基本的结构，太丑了吧，赶紧用 CSS 美化一下。")]),t._v(" "),s("p",[t._v("代码如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<head>  ...  <style>    body {      padding: 20px;      user-select: none;    }\n    #wrapper {      width: 320px;    }\n    #result {      height: 100px;      border: 1px solid #ddd;      padding: 20px;      box-sizing: border-box;    }\n    .row {      display: flex;      column-count: 3;    }\n    .row button {      padding: 20px;      flex: 1;      font-size: 16px;      border: 1px solid #ddd;      background: #eee;    }</style></head>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("这段代码做了这些事：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("首先通过 wrapper 指定整个计算器的宽度")])]),t._v(" "),s("li",[s("p",[t._v("通过 display: flex 配合 flex: 1 控制每行的布局")])]),t._v(" "),s("li",[s("p",[t._v("给按钮添加边框、背景色、控制字体大小和内边距")])]),t._v(" "),s("li",[s("p",[t._v("还要给 body 加个 user-select: none 来防止用户选中按钮中的文字，否则会影响用户体验。")])])]),t._v(" "),s("p",[t._v("浏览效果如下：")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081008178.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("样式已经 OK 了，但是现在点击按钮没有任何作用，只是个空壳。")]),t._v(" "),s("h3",{attrs:{id:"_3-实现功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-实现功能"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3. 实现功能")])]),t._v(" "),s("p",[t._v("最后，通过原生 JavaScript 来给计算器添加交互功能吧~")]),t._v(" "),s("p",[t._v("功能有如下几点：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("点击数字和运算符按钮输入算式并展示")])]),t._v(" "),s("li",[s("p",[t._v('点击 "=" 按钮计算结果并展示')])]),t._v(" "),s("li",[s("p",[t._v('点击 "AC" 清空算式')])])]),t._v(" "),s("p",[t._v("首先用内置函数选择所有按钮 DOM 对象：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 所有按钮let buttonObjs = document.getElementsByTagName("button");// 结果框let resultObj = document.getElementById("result");// AC 按钮let acObj = document.getElementById("ac");// = 按钮let getResultObj = document.getElementById("getResult");\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("然后给按钮绑定点击事件：")]),t._v(" "),s("ol",[s("li",[t._v("对于数字和运算符按钮，点击后填充算式：")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("for (const buttonObj of buttonObjs) {  if (!['AC', '='].includes(buttonObj.innerHTML)) {    buttonObj.addEventListener('click', () => {      resultObj.innerHTML += buttonObj.innerHTML;    })  }}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v('本质就是点击按钮后，对算式进行字符串拼接。比如点击了 "+" 按钮，在已有算式后拼接 "+" 字符即可。')]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v('对于 "=" 按钮，点击后进行运算：')])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("getResultObj.addEventListener('click', () => {  resultObj.innerHTML = eval(resultObj.innerHTML);})\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("是的，你没看错，JavaScript 为我们提供了超级强大的 "),s("strong",[t._v("eval 函数")]),t._v("，传入公式字符串，可以直接计算表达式的值！")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v('对于 "AC" 按钮，点击后清空算式即可：')])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("acObj.addEventListener('click', () => {  resultObj.innerHTML = '';})\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("OK，大功告成，赶快试试！")])])}),[],!1,null,null,null);s.default=n.exports}}]);