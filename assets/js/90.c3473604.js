(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{388:function(a,s,t){"use strict";t.r(s);var n=t(4),e=Object(n.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mysql-ä¸€æ£µ-b-æ ‘å¯ä»¥å­˜å¤šå°‘æ¡æ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-ä¸€æ£µ-b-æ ‘å¯ä»¥å­˜å¤šå°‘æ¡æ•°æ®"}},[a._v("#")]),a._v(" MySQL ä¸€æ£µ B + æ ‘å¯ä»¥å­˜å¤šå°‘æ¡æ•°æ®ï¼Ÿ")]),a._v(" "),s("blockquote",[s("p",[a._v("ä½œè€…ï¼š"),s("a",{attrs:{href:"https://juejin.cn/user/128017175944557",target:"_blank",rel:"noopener noreferrer"}},[a._v("é¡¾æ™ãƒ„"),s("OutboundLink")],1),a._v("ï¼Œ"),s("a",{attrs:{href:"https://wx.zsxq.com/dweb2/index/group/51122858222824",target:"_blank",rel:"noopener noreferrer"}},[a._v("ç¼–ç¨‹å¯¼èˆªæ˜Ÿçƒ"),s("OutboundLink")],1),a._v(" ç¼–å· 2784")])]),a._v(" "),s("p",[a._v("å…«è‚¡æ–‡ï¼ŒMySQL ä¸€æ£µB+æ ‘å¯ä»¥å­˜å¤šå°‘æ•°æ®ï¼Ÿ")]),a._v(" "),s("h2",{attrs:{id:"ğŸ“šå¼•è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“šå¼•è¨€"}},[a._v("#")]),a._v(" ğŸ“šå¼•è¨€")]),a._v(" "),s("p",[a._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ†æ MySQL æ•°æ®æ˜¯ç”¨ä»€ä¹ˆæ ·çš„å½¢å¼å»ç»„ç»‡å­˜å‚¨çš„ï¼Œæˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸€ä¸‹ï¼š")]),a._v(" "),s("ol",[s("li",[a._v("æ•°æ®æŒä¹…åŒ–ä¸€èˆ¬éƒ½æ˜¯å°†æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œè€Œç£ç›˜çš„æœ€å°å•å…ƒå°±æ˜¯æ‰‡åŒºï¼Œè¿™é‡Œè®°ä¸‹ç¬¬ä¸€ä¸ªé‡ç‚¹ï¼šä¸€ä¸ªæ‰‡åŒºçš„å¤§å°æ˜¯ 512 å­—èŠ‚ï¼Œå³ 0.5 KB")]),a._v(" "),s("li",[a._v("åœ¨æ‰‡åŒºä»¥ä¸Šï¼Œä¾¿æ˜¯æˆ‘ä»¬å¸¸å¸¸è¯´çš„ï¼Œæ–‡ä»¶ç³»ç»Ÿå—ï¼Œä¸€ä¸ªå—çš„ç”± 8 ä¸ªæ‰‡åŒºæ„æˆï¼Œæ‰€ä»¥ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå—å¤§æ¦‚æ˜¯ 4K")]),a._v(" "),s("li",[a._v("åˆ°ä¸Šé¢å°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„é‡ç‚¹ InnoDB å­˜å‚¨å¼•æ“äº†ï¼Œå…¶æœ€å°çš„å­˜å‚¨å•å…ƒå°±æ˜¯é¡µï¼Œä¸€ä¸ªé¡µçš„å¤§å°æ˜¯ 4 ä¸ªæ–‡ä»¶å—ï¼Œå³ 16K è¿™é‡Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥è¡¨ç¤ºä¸€ä¸‹ä»¥ä¸Šçš„å…³ç³»ï¼š")])]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820556.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("æ€»ç»“ä¸€ä¸‹:ä¸€é¡µçš„å¤§å°å¤§çº¦æ˜¯ 16 K å³ 4 ä¸ªæ–‡ä»¶ç³»ç»Ÿå—ï¼Œ32 ä¸ªæ‰‡åŒºï¼›")]),a._v(" "),s("h2",{attrs:{id:"âœ¨innodbå¼•æ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ¨innodbå¼•æ“"}},[a._v("#")]),a._v(" âœ¨InnoDBå¼•æ“")]),a._v(" "),s("p",[a._v("åœ¨ç®€å•åœ°ä»‹ç»äº†æ•°æ®çš„ç»„ç»‡å½¢å¼ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„é‡ç‚¹ InnoDB å­˜å‚¨å¼•æ“ï¼Œç›¸ä¿¡ä¸å°‘å­¦ä¹ è¿‡ MySQL çš„å°ä¼™ä¼´éƒ½çŸ¥é“ InnoDB å­˜å‚¨å¼•æ“æ˜¯æˆ‘ä»¬ç°åœ¨æ•°æ®åº“åˆ›å»ºè¡¨çš„æ—¶å€™é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨å¼•æ“äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‹¿ MySQL æ¥ä¸¾ä¾‹ï¼š é¦–å…ˆå°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼è¿æ¥ MySQLï¼Œè¿™é‡Œç”¨æœ¬æœºçš„ MySQL ä¸ºä¾‹ï¼Œé»˜è®¤ç«¯å£æ˜¯ 3306,ç„¶åè¾“å…¥å¯†ç å°±å¯ä»¥è¿›å…¥æ•°æ®åº“äº†ã€‚")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("mysql "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("u root "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("p\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("æŸ¥çœ‹ InnDB é¡µçš„å¤§å°ï¼š")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("show")]),a._v(" variables "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'innodb_page_size'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820550.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒInnoDB çš„é¡µå¤§å°ä¸º 16384 Byteï¼Œæ¢ç®—ä¸€ä¸‹å¤§çº¦ 16Kï¼Œä¸æˆ‘ä»¬åœ¨ä¸Šé¢è¡¨ç¤ºçš„æ•°æ®æ˜¯ä¸€è‡´çš„")]),a._v(" "),s("blockquote",[s("p",[a._v("é‚£ä¹ˆä¸€é¡µå¤§æ¦‚å¯ä»¥æ”¾å¤šå°‘è¡Œæ•°æ®å‘¢ï¼Ÿ")])]),a._v(" "),s("p",[a._v("è¿™é‡Œæˆ‘ä»¬å‡è®¾ï¼Œä¸€è¡Œæ•°æ®çš„å¤§å°å¤§çº¦æ˜¯ 1 KB ï¼Œå³ 1024 ä¸ªå­—èŠ‚ï¼Œåˆ™å…¶ä¸€é¡µå¤§æ¦‚å¯ä»¥å­˜æ”¾ 16 æ¡æ•°æ®ã€‚ MySQL çš„æœ€å°å­˜å‚¨å•å…ƒå«åšâ€œé¡µâ€ï¼Œè¿™ä¹ˆå¤šçš„é¡µæ˜¯å¦‚ä½•æ„å»ºä¸€ä¸ªåºå¤§çš„æ•°æ®ç»„ç»‡ï¼Œæˆ‘ä»¬åˆå¦‚ä½•çŸ¥é“æ•°æ®å­˜å‚¨åœ¨å“ªä¸€ä¸ªé¡µä¸­ï¼Ÿ å¦‚æœé‡‡ç”¨é€æ¡éå†çš„æ–¹å¼ï¼Œé‚£ä¹ˆæŸ¥è¯¢æ•ˆç‡ä¸ç”¨è¯´éƒ½çŸ¥é“ï¼Œè‚¯å®šå¾ˆä½ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨ InnoDB å­˜å‚¨å¼•æ“åº•å±‚çš„æ•°æ®ç»“æ„ B+ æ ‘ ï¼Œè¿™é‡Œæ”¾ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚æœä¹‹å‰æ²¡æœ‰äº†è§£è¿‡ B+ æ ‘çš„åŒå­¦å¯ä»¥çœ‹çœ‹ï¼š")]),a._v(" "),s("blockquote",[s("p",[a._v("https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html")])]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820569.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("æˆ‘ä»¬è¿™é‡Œè¡¥å……ä¸€ä¸ªç‚¹ï¼Œé‚£å°±æ˜¯é¡µé™¤äº†å­˜æ”¾æ•°æ®ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰ï¼Œè¿˜å¯ä»¥å­˜æ”¾é”®å€¼å’ŒæŒ‡é’ˆï¼ˆéå¶å­èŠ‚ç‚¹ï¼‰ï¼Œä¸è¿‡éœ€è¦è¡¥å……ä¸€ä¸ªç‚¹ï¼šä»–ä»¬ä¹‹é—´çš„å…³ç³»æ˜¯æœ‰åºçš„ï¼Œå¦‚å›¾ä¸­æ‰€ç¤º1æ¥ä¸‹å»å°±æ˜¯ 3 å’Œ 4ï¼Œè¿™æ ·çš„æ•°æ®ç»„ç»‡å½¢å¼ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºç´¢å¼•ç»„ç»‡è¡¨ã€‚")]),a._v(" "),s("blockquote",[s("p",[a._v("é‚£æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ï¼ŒB + æ ‘æ˜¯å¦‚ä½•è¿›è¡Œæ•°æ®æŸ¥æ‰¾çš„ï¼Ÿ")]),a._v(" "),s("ol",[s("li",[a._v("æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”ä½ç½®çš„æ ¹é¡µï¼Œå› ä¸ºæ¯å¼ è¡¨çš„æ ¹é¡µä½ç½®åœ¨è¡¨ç©ºé—´æ–‡ä»¶ä¸­æ˜¯å›ºå®šçš„ï¼Œè¿™é‡Œæˆ‘ä»¬çš„æ ¹é¡µå°±æ˜¯ 3ï¼Œå³æˆ‘ä»¬æ‰€è¯´çš„ Page Numberï¼›")]),a._v(" "),s("li",[a._v("æ‰¾åˆ°æ ¹é¡µä¹‹åï¼Œé€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ï¼Œå®šä½åˆ° id = 3 çš„æ•°æ®åº”è¯¥åœ¨ P4 æŒ‡å‘çš„é¡µä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å» P4 é¡µæ‰€æŒ‡å‘çš„æŒ‡é’ˆå¯»æ‰¾æ•°æ®")]),a._v(" "),s("li",[a._v("æœ€åé€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æŸ¥æ‰¾ Page Number = 4 çš„é¡µä¸­çš„æ•°æ®ï¼Œæœ€åæ‰¾åˆ° id = 3 çš„è®°å½•ï¼Œè¿”å›å°±å¯ä»¥äº†ã€‚")])])]),a._v(" "),s("p",[a._v("ğŸ”­B+æ ‘çš„é«˜åº¦")]),a._v(" "),s("p",[a._v("åœ¨è¯´å®Œ InnoDB çš„å­˜å‚¨å¼•æ“ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥èŠä¸€ä¸‹ B+ æ ‘çš„é«˜åº¦é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç»§ç»­çº¦å®š page number = 3è¡¨ç¤ºä¸»é”®ç´¢å¼•çš„æ ¹é¡µï¼Œç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥å¯¹åº”çš„é›¨å…·è¿›è¡ŒæŸ¥æ‰¾")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v("\nb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" index_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("space"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("PAGE_NO\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v("\ninformation_schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("INNODB_SYS_INDEXES a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\ninformation_schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("INNODB_SYS_TABLES b\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("table_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("table_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("AND")]),a._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("space "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<>")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("and")]),a._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'%sp_job_log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820583.png",loading:"lazy"}}),a._v(" ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªè¡¨çš„ä¸»é”®ç´¢å¼•çš„æ ¹é¡µçš„ Page Number å¤§éƒ¨åˆ†éƒ½æ˜¯ 3ï¼Œè€Œå…¶ä»–çš„äºŒçº§ç´¢å¼• Page Number æ˜¯ 4 æˆ–è€… 5 åœ¨æ ¹é¡µåç§»é‡ä¸º 64 çš„åœ°æ–¹å­˜æ”¾äº†è¯¥B+æ ‘çš„ page levelã€‚ä¸»é”®ç´¢å¼• B+ æ ‘çš„æ ¹é¡µåœ¨æ•´ä¸ªè¡¨ç©ºé—´æ–‡ä»¶ä¸­çš„ç¬¬3ä¸ªé¡µå¼€å§‹ï¼Œæ‰€ä»¥ç®—å‡ºå®ƒåœ¨æ–‡ä»¶ä¸­çš„åç§»é‡ï¼š16384 x 3 + 64 = 49152 + 64 =49216 ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬æ‰¾åˆ° MySQL çš„æ•°æ®åº“ç‰©ç†æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼ˆè¿™ä¸ªåœ°æ–¹å¯èƒ½æ¯ä¸ªäººéƒ½ä¸ä¸€æ ·ï¼Œæˆ‘è¿™é‡Œæ˜¯åœ¨æˆ‘è‡ªå·±çš„ç”µè„‘ä¸Š)ï¼š")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820553.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("ç„¶åæˆ‘ä»¬ä½¿ç”¨ hexdump å·¥å…·æ¥åˆ†æï¼ŒæŸ¥çœ‹é‚£ä¸ªè¡¨ç©ºé—´æ–‡ä»¶æŒ‡å®šåç§»é‡ä¸Šçš„æ•°æ®ï¼š")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("hexdump "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("s "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("49216")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("  sp_job_log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ibd\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820562.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹å›¾ä¸­çš„å€¼ï¼ŒPage_level ç”¨äºŒè¿›åˆ¶è¿›è¡Œæ¢ç®—ï¼Œ0100 å³æ¢ç®—æˆ 2 é‚£ä¹ˆæœ€ç»ˆå¾—å‡ºçš„ B+ æ ‘çš„é«˜åº¦ä¸º page level + 1 = 3ï¼›")]),a._v(" "),s("blockquote",[s("p",[a._v("è¿™é‡Œè¿›è¡Œä¸€äº›è¡¥å……è¯´æ˜ï¼š")]),a._v(" "),s("ol",[s("li",[a._v("åœ¨ä½ æŸ¥è¯¢æ•°æ®åº“çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯è¯»å–å•è¡Œè¿˜æ˜¯å¤šè¡Œï¼Œéƒ½æ˜¯å…ˆå°†è¿™äº›è¡Œæ‰€åœ¨çš„æ•´é¡µæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­åŒ¹é…å¾—å‡ºæœ€ç»ˆç»“æœã€‚")]),a._v(" "),s("li",[a._v("è¡¨çš„æ£€ç´¢é€Ÿåº¦åªå’Œæ ‘çš„æ·±åº¦æœ‰ç›´æ¥å…³ç³»ï¼Œå› ä¸ºä¸€æ¬¡é¡µåŠ è½½å°±æ˜¯ä¸€æ¬¡ IO,è€Œç£ç›˜ IOæ˜¯æ¯”è¾ƒè€—è´¹æ—¶é—´çš„ã€‚æ‰€ä»¥å¯¹äºä¸€å¼ åƒä¸‡çº§æ¡æ•°B+æ ‘é«˜åº¦ä¸º3çš„è¡¨ä¸å‡ åä¸‡çº§B+æ ‘é«˜åº¦ä¹Ÿä¸º3çš„è¡¨ï¼Œå…¶å®æŸ¥è¯¢æ•ˆç‡ç›¸å·®ä¸å¤§ã€‚")])])]),a._v(" "),s("h2",{attrs:{id:"ğŸ•¹ï¸ä¸€é¢—æ ‘å¯ä»¥å­˜æ”¾å¤šå°‘è¡Œæ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ•¹ï¸ä¸€é¢—æ ‘å¯ä»¥å­˜æ”¾å¤šå°‘è¡Œæ•°æ®"}},[a._v("#")]),a._v(" ğŸ•¹ï¸ä¸€é¢—æ ‘å¯ä»¥å­˜æ”¾å¤šå°‘è¡Œæ•°æ®")]),a._v(" "),s("p",[a._v("è¿™é‡Œæˆ‘ä»¬å‡è®¾ B+ æ ‘çš„æ·±åº¦ä¸º 2")]),a._v(" "),s("p",[a._v("B+æ ‘çš„å­˜å‚¨æ€»æ•°æ®æ•° = æ ¹èŠ‚ç‚¹æŒ‡é’ˆæ•° * å•ä¸ªå¶å­èŠ‚ç‚¹è®°å½•æ¡æ•°")]),a._v(" "),s("p",[a._v("é‚£ä¹ˆæŒ‡é’ˆæ•°æ€ä¹ˆè®¡ç®—ï¼Ÿ")]),a._v(" "),s("p",[a._v("å‡è®¾ä¸»é”®IDä¸º bigint ç±»å‹ï¼Œé•¿åº¦ä¸º 8 å­—èŠ‚ ï¼Œè€ŒæŒ‡é’ˆå¤§å°åœ¨InnoDBæºç ä¸­è®¾ç½®ä¸º 6 å­—èŠ‚ï¼Œè¿™æ ·ä¸€å…± 14 å­—èŠ‚ã€‚ é‚£ä¹ˆå¦‚æœä¸€ä¸ªé¡µä¸­èƒ½å­˜æ”¾å¤šå°‘è¿™æ ·çš„ç»„åˆï¼Œå°±ä»£è¡¨æœ‰å¤šå°‘æŒ‡é’ˆï¼Œå³ 16384 / 14 = 1170.é‚£ä¹ˆå¯ä»¥ç®—å‡ºï¼Œä¸€æ£µé«˜åº¦ä¸º 2 çš„ B+ æ ‘ï¼Œå¯ä»¥å­˜æ”¾ 1170 * 16 = 18720 æ¡è¿™æ ·çš„æ•°æ®è®°å½•ã€‚ åŒç†ï¼š é«˜åº¦ä¸º3çš„B+æ ‘å¯ä»¥å­˜æ”¾çš„è¡Œæ•° = 1170 * 1170 * 16 = 21902400")]),a._v(" "),s("blockquote",[s("p",[a._v("è¿™é‡Œç›¸ä¿¡å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºåƒä¸‡çº§æ•°æ®çš„å­˜å‚¨åªéœ€è¦ 3 å±‚ B+æ ‘å°±å¯ä»¥äº†ï¼ŒæŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œæ¯åŠ è½½ä¸€é¡µï¼ˆpageï¼‰å°±ä»£è¡¨ä¸€æ¬¡ IOã€‚æ‰€ä»¥é”ï¼Œæ ¹æ®ä¸»é”® id ç´¢å¼•æŸ¥è¯¢ 3 æ¬¡ IO å°±å¯ä»¥æ‰¾åˆ°ç›®æ ‡ç»“æœäº†ã€‚")])]),a._v(" "),s("p",[a._v("é‚£å¯¹äºä¸€äº›éœ€è¦èµ°äºŒçº§ç´¢å¼•çš„å¤æ‚æŸ¥è¯¢ï¼Œé€šè¿‡äºŒçº§ç´¢å¼•æŸ¥æ‰¾è®°å½•æœ€å¤šéœ€è¦èŠ±è´¹å¤šå°‘æ¬¡ IO å‘¢ï¼Ÿ")]),a._v(" "),s("p",[a._v("é¦–å…ˆï¼Œä»äºŒçº§ç´¢å¼• B + æ ‘ä¸­ï¼Œæ ¹æ® name æŸ¥æ‰¾å¯¹åº”ä¸»é”®çš„ id")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820196.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("ç„¶åæ¥ç€æ ¹æ®ä¸»é”® id ä»èšç°‡ç´¢å¼•æŸ¥æ‰¾åˆ°å¯¹åº”çš„è®°å½•ã€‚")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820208.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒäºŒçº§ç´¢å¼•æœ‰3å±‚ï¼Œèšç°‡ç´¢å¼•æœ‰3å±‚ï¼Œé‚£ä¹ˆæœ€å¤šèŠ±è´¹çš„IOæ¬¡æ•°æ˜¯ï¼š3+3 = 6")]),a._v(" "),s("p",[a._v("èšç°‡ç´¢å¼•é»˜è®¤æ˜¯ä¸»é”®ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnoDB ä¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€çš„éç©ºç´¢å¼•ä»£æ›¿ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ç´¢å¼•ï¼ŒInnoDB ä¼šéšå¼å®šä¹‰ä¸€ä¸ªä¸»é”®æ¥ä½œä¸ºèšç°‡ç´¢å¼•ã€‚")]),a._v(" "),s("blockquote",[s("p",[a._v("è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆInnoDBè¡¨å¿…é¡»è¦è®¾ç½®ä¸»é”®ï¼Œå¹¶ä¸”æ¨èä½¿ç”¨æ•´å‹çš„è‡ªå¢ä¸»é”®ã€‚ InnoDBä½¿ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ï¼Œå°†ä¸»é”®ç»„ç»‡åˆ°ä¸€æ£µB+æ ‘ä¸­ï¼Œè€Œè¡Œæ•°æ®å°±å‚¨å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸Š")])]),a._v(" "),s("h2",{attrs:{id:"ğŸš‡ç»¼åˆè®¡ç®—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš‡ç»¼åˆè®¡ç®—"}},[a._v("#")]),a._v(" ğŸš‡ç»¼åˆè®¡ç®—")]),a._v(" "),s("p",[a._v("å®é™…é¡¹ç›®ä¸­ï¼Œæ¯ä¸ªè¡¨çš„ç»“æ„è®¾è®¡éƒ½ä¸ä¸€æ ·ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ä¹Ÿå„ä¸ç›¸ç­‰ã€‚å¦‚ä½•è®¡ç®—ä¸åŒçš„B+æ ‘æ·±åº¦ä¸‹ï¼Œä¸€ä¸ªè¡¨å¯ä»¥å­˜å‚¨çš„è®°å½•æ¡æ•°ï¼Ÿ è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨ MySQL åº“ä¸‹é¢çš„ User è¡¨æ¥ç¤ºä¾‹ä¸€ä¸‹ï¼Œè®²è§£è¯¦ç»†çš„è®¡ç®—è¿‡ç¨‹ï¼š")]),a._v(" "),s("ol",[s("li",[a._v("æŸ¥çœ‹è¡¨çš„çŠ¶æ€ä¿¡æ¯")])]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("show")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("table")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("status")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'subject_info'")]),a._v("\\G\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820217.png",loading:"lazy"}})]),a._v(" "),s("p",[a._v("å›¾ä¸­å¯ä»¥çœ‹åˆ° user è¡¨çš„è¡Œå¹³å‡å¤§å°ä¸º 2730 å­—èŠ‚")]),a._v(" "),s("ol",[s("li",[a._v("æŸ¥çœ‹è¡¨ç»“æ„")])]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("desc")]),a._v(" subject_info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311241820224.png",loading:"lazy"}})]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("è®¡ç®— B + æ ‘çš„è¡Œæ•°")])]),a._v(" "),s("p",[a._v("â— å•ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆé¡µï¼‰ä¸­çš„è®°å½•æ•° = 16 K / 2730 = 5")]),a._v(" "),s("p",[a._v("â— éå¶å­èŠ‚ç‚¹èƒ½å­˜æ”¾å¤šå°‘æŒ‡é’ˆï¼š16384 / 14 = 1170")]),a._v(" "),s("p",[a._v("â— å¦‚æœæ ‘çš„é«˜åº¦ä¸º3ï¼Œå¯ä»¥å­˜æ”¾çš„è®°å½•è¡Œæ•° = 1170 * 1170 * 5 = 6844500")])])}),[],!1,null,null,null);s.default=e.exports}}]);