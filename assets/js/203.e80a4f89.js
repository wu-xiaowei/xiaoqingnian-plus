(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{505:function(s,a,n){"use strict";n.r(a);var t=n(4),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"测试鸭开源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试鸭开源"}},[s._v("#")]),s._v(" 测试鸭开源")]),s._v(" "),a("blockquote",[a("p",[s._v("本文作者："),a("a",{attrs:{href:"https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah",target:"_blank",rel:"noopener noreferrer"}},[s._v("程序员鱼皮"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("本站地址："),a("a",{attrs:{href:"https://codefather.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://codefather.cn"),a("OutboundLink")],1)])]),s._v(" "),a("blockquote",[a("p",[s._v("鱼皮自制交互式网络安全自学网，助你成为网络安全达人！")])]),s._v(" "),a("p",[s._v("大家好，我是鲏。")]),s._v(" "),a("p",[s._v("据说互联网是没有记忆的，那不知道大家是否还记得，很久很久以前，我有一个网站叫 “面试鸭”。这个网站上线之初，遭受了各种各样的网络攻击，也一度给我的心态造成了巨大的影响。")]),s._v(" "),a("p",[s._v("在很多网友看来网站攻击只是个玩笑，但只有站长本人才知道那种无力和痛苦。")]),s._v(" "),a("p",[s._v("经历过网站攻击后，更加意识到网络安全意识的重要性，所以当时我做了一个帮助大家学习网络安全的免费网站 —— 测试（逝）鸭。")]),s._v(" "),a("p",[s._v("这个网站可不是传统的教程网站，挂个课、挂个电子书就结束了，而是一个 "),a("strong",[s._v("交互式")]),s._v(" 自学网站。鱼皮结合自己遭受网站攻击的经历和教训，给网站设置了 30 多个漏洞。")]),s._v(" "),a("p",[s._v("大家需要通过自由探索和种种提示，发现这些漏洞并对网站造成攻击 🦖，从而在实战中学习到网络安全知识，主打一个轻松愉快！")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457048.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("有网友评论说：我建了个免费的靶场。")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457982.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("这么说倒也对哈哈，不过可能没那么专业，更多地还是教学向。")]),s._v(" "),a("p",[s._v("我希望通过这个网站，大家都能意识到网络安全的重要性，并且在开发网站时提升安全防护意识。")]),s._v(" "),a("blockquote",[a("p",[s._v("记住！学习这些知识是为了更好地防范，而不要利用技术去违法作恶！！！")])]),s._v(" "),a("p",[s._v("这两天我在整理自己的代码，无意中又发现了这个项目，觉得还是可以给大家学习的。")]),s._v(" "),a("p",[s._v("所以直接 100% 开源到 GitHub 上！再给大家一个免费的项目。")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457040.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("下面给大家简单介绍一下这个开源项目。")]),s._v(" "),a("blockquote",[a("p",[s._v("在线体验：http://ceshiya.yupi.icu")]),s._v(" "),a("p",[s._v("开源地址：https://github.com/liyupi/ceshiya")])]),s._v(" "),a("h2",{attrs:{id:"_20-秒学会使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-秒学会使用"}},[s._v("#")]),s._v(" 20 秒学会使用")]),s._v(" "),a("p",[s._v("1）第一次进入主页时，会自动弹出新手引导，教你如何攻击本网站，跟着引导点击下一步即可")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457031.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("2）页面上的任何一个按钮、任何一个输入框都有可能暗藏玄机。比如疯狂地点击 “收藏” 按钮，不给系统反应的机会，然后 Bug 就出现了。")]),s._v(" "),a("p",[s._v("每当你找到一个 Bug，站长鱼皮的血鸭值都会极速上升，并且你还可以看到鱼皮给出的小知识点，以及一张鱼皮的高清无码发飙图，据说总共有 5 张，集齐之后也许不能召唤神龙，但鱼皮会请你喝茶。")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457021.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("3）可以通过右下角的工具包帮助自己攻击网站：")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457015.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("比如上图的请求工具，可以帮助你绕过前端界面，直接从网站后台获取数据 🐓。")]),s._v(" "),a("p",[s._v("4）点击右下角的 Bug 图标弹出游戏面板，可以查看得分情况、已发现的 Bug、获取提示、查看自己的排名等等。")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457666.png",loading:"lazy"}})]),s._v(" "),a("h2",{attrs:{id:"_1-分钟本地启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-分钟本地启动"}},[s._v("#")]),s._v(" 1 分钟本地启动")]),s._v(" "),a("p",[s._v("由于项目采用纯前端实现，本地启动项目非常简单！")]),s._v(" "),a("blockquote",[a("p",[s._v("在线访问人数较多，可能会卡顿，所以更推荐大家自己在本地使用~")])]),s._v(" "),a("p",[s._v("1）下载本项目代码")]),s._v(" "),a("p",[s._v("2）进入项目根目录，执行 "),a("code",[s._v("npm install")]),s._v(" 安装项目依赖")]),s._v(" "),a("p",[s._v("3）执行 "),a("code",[s._v("npm run dev")]),s._v(" 本地启动即可")]),s._v(" "),a("h2",{attrs:{id:"功能和特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能和特性"}},[s._v("#")]),s._v(" 功能和特性")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("完整的面试刷题网站前端")])]),s._v(" "),a("li",[a("ul",[a("li",[s._v("搜索题目")]),s._v(" "),a("li",[s._v("创建题目")]),s._v(" "),a("li",[s._v("用户登录注册")]),s._v(" "),a("li",[s._v("个人页面")]),s._v(" "),a("li",[s._v("题目选取")]),s._v(" "),a("li",[s._v("题目分类")]),s._v(" "),a("li",[s._v("遇到题目")]),s._v(" "),a("li",[s._v("收藏点赞")])])]),s._v(" "),a("li",[a("p",[s._v("30+ 交互式 Bug 关卡")])]),s._v(" "),a("li",[a("p",[s._v("游戏工具箱")])]),s._v(" "),a("li",[a("p",[s._v("游戏面板")])])]),s._v(" "),a("h2",{attrs:{id:"技术选型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技术选型"}},[s._v("#")]),s._v(" 技术选型")]),s._v(" "),a("p",[s._v("本项目采用 "),a("strong",[s._v("纯前端实现")]),s._v(" ，不需要任何后端的前置知识~")]),s._v(" "),a("blockquote",[a("p",[s._v("Q：为什么采用纯前端实现？")]),s._v(" "),a("p",[s._v("A：该网站更侧重前端交互，无需后台存储；同时也能减少攻击风险 + 省钱")])]),s._v(" "),a("ul",[a("li",[s._v("开发框架：React、Umi")]),s._v(" "),a("li",[s._v("脚手架：Ant Design Pro")]),s._v(" "),a("li",[s._v("组件库：Ant Design、Ant Design Components")]),s._v(" "),a("li",[s._v("语法扩展：TypeScript、Less")]),s._v(" "),a("li",[s._v("打包工具：Webpack")]),s._v(" "),a("li",[s._v("代码规范：ESLint、StyleLint、Prettier")]),s._v(" "),a("li",[s._v("工具库：Intro.js（引导提示）")])]),s._v(" "),a("h2",{attrs:{id:"核心设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心设计"}},[s._v("#")]),s._v(" 核心设计")]),s._v(" "),a("h3",{attrs:{id:"_1、网站改造流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、网站改造流程"}},[s._v("#")]),s._v(" 1、网站改造流程")]),s._v(" "),a("p",[s._v("本网站是由一个完整前后端项目 面试鸭 改造而成的纯前端网站，这里分享下通用的网站改造流程，大家可以尝试把自己做的项目也变成交互式教学网站。")]),s._v(" "),a("p",[s._v("步骤如下：")]),s._v(" "),a("p",[s._v("1）完整前端页面开发（已有项目的话这一步默认已完成）")]),s._v(" "),a("p",[s._v("2）页面数据静态化：创建 mock 目录，存放人为编写的假数据；然后将和后端交互的 service 层代码全部改造为操作和获取 mock 目录中的假数据。")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457644.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("3）创建游戏机制：具体实现方式见下")]),s._v(" "),a("h3",{attrs:{id:"_2、游戏机制实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、游戏机制实现"}},[s._v("#")]),s._v(" 2、游戏机制实现")]),s._v(" "),a("p",[s._v("首先遵循组件化的思想，把所有和游戏相关的代码封装到 "),a("code",[s._v("games")]),s._v(" 目录中，并且提供一个 "),a("code",[s._v("GameBox")]),s._v(" 组件供前端页面引入，而不是直接侵入现有的业务代码：")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311081457670.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("怎么实现在用户执行了某个操作后，触发完成对应的关卡呢？")]),s._v(" "),a("p",[s._v("这里采用的实现思想类似于前端监控业务中的 “埋点”。")]),s._v(" "),a("p",[s._v("首先我们在 "),a("code",[s._v("gameUnit.ts")]),s._v(" 中定义游戏的关卡（此处称为 unit 单元），示例代码如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/**\n * 游戏单元类型\n */\nexport type GameUnitType = {\n  key: string;\n  desc: string;\n  type: string;\n  score: number;\n  knowledge: string;\n  no?: number; // 题号\n  href?: string; // 更多知识的链接\n};\n\n/**\n * 游戏单元列表\n */\nconst GAME_UNIT_LIST: GameUnitType[] = [\n  {\n    key: 'favourInfinite',\n    desc: '收藏按钮可以无限点击',\n    type: '逻辑漏洞',\n    score: 1,\n    knowledge: '网页前端和后端都要对收藏状态进行控制，防止收藏数异常',\n  },\n  {\n    key: 'thumbUpInfinite',\n    desc: '点赞可以无限点击',\n    type: '逻辑漏洞',\n    score: 1,\n    knowledge: '网页前端和后端都要对点赞状态进行控制，防止点赞数异常',\n  },\n];\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("p",[s._v("然后我们编写一个全局游戏状态存储文件 "),a("code",[s._v("gameState.tsx")]),s._v(" ，用于记录用户已经完成的关卡、分数、游戏配置等信息：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/**\n * 游戏全局状态类型\n * @author https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah yupi\n */\nexport type GameStateType = {\n  init: boolean; // 是否为初始化\n  score: number; // 当前分数\n  gameTip: boolean; // 是否开启提示\n  succeedUnitList: string[]; // 已通过的关卡\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("并且提供一个上报过关通知的函数 "),a("code",[s._v("doGameUnitSucceed")]),s._v(" ，参数为上面定义的关卡单元的 key，在该函数中改变当前用户的过关状态，并给出过关弹窗提示。")]),s._v(" "),a("p",[s._v("示例代码如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/**\n * 完成游戏\n * @param key\n */\nconst doGameUnitSucceed = (key: string) => {\n  // 已经完成\n  if (gameState.succeedUnitList.includes(key)) {\n    return;\n  }\n  gameState.succeedUnitList.push(key);\n  const unit = GAME_UNIT_MAP[key];\n  gameState.score += unit.score;\n  setTimeout(() => {\n    Modal.success({\n      title: `太棒了，鱼皮的血鸭又高了！😡 ${gameState.score - unit.score} +${unit.score}`,\n      content: ...,\n      okText: '继续加油！',\n    });\n  }, 1000);\n  updateGameState(gameState);\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("之后，我们只需要在对应的页面和功能代码中，增加一段过关逻辑，符合条件的话就调用 "),a("code",[s._v("doGameUnitSucceed(关卡key)")]),s._v(" 过关通知函数，就能实现过关状态的更新和通知了。")]),s._v(" "),a("p",[s._v("比如下面的代码，是在点赞功能中添加过关判断逻辑：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const doThumbUp = async (id: string) => {\n  setThumbLoading(true);\n  const res = await thumbUpComment(id);\n  if (res === 1 || res === -1) {\n    comment.thumbNum = (comment.thumbNum ?? 0) + res;\n    // 点赞数 > 9 则过关\n    if (comment.thumbNum > 9) {\n      // 注意这行代码是关键，触发过关\n      doGameUnitSucceed('thumbUpInfinite');\n    }\n  }\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"_3、新手指引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、新手指引"}},[s._v("#")]),s._v(" 3、新手指引")]),s._v(" "),a("p",[s._v("引入 "),a("code",[s._v("Intro.js")]),s._v(" 库，在 "),a("code",[s._v("GameBox")]),s._v(" 游戏组建中定义引导阶段，然后通过 LocalStorage 判断是否首次进入游戏需要展示引导即可。")]),s._v(" "),a("p",[s._v("示例引导阶段代码如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const [steps] = useState([\n  {\n    title: '欢迎来到测逝鸭 🦆',\n    intro: '这是一个锻炼你网络安全能力的破站，准备好旅程了么？🧑🏻‍🦲',\n    position: 'top',\n  },\n  {\n    title: '目标 🎯',\n    intro:\n      '你要做的就是运用你的智慧和强大的洞察力，尽可能多地发现并利用该网站的 Bug、对网站造成破坏！🦖',\n    nextLabel: '应该的应该的',\n  },\n  ...\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_4、工具箱实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、工具箱实现"}},[s._v("#")]),s._v(" 4、工具箱实现")]),s._v(" "),a("p",[s._v("工具箱（"),a("code",[s._v("ToolBox.tsx")]),s._v(" ）本质上就是集成了特定过关方法的页面，算是一种定制化开发。每种工具都作为单独的页面，存放在 "),a("code",[s._v("tools")]),s._v(" 目录下。")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("大概就介绍到这里，更多的玩法大家感兴趣的话可以自行探索，如果觉得项目还不错，也欢迎给个 star~")])])}),[],!1,null,null,null);a.default=e.exports}}]);