(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{503:function(a,t,s){"use strict";s.r(t);var e=s(4),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"这次我开源-别再打我啦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#这次我开源-别再打我啦"}},[a._v("#")]),a._v(" 这次我开源，别再打我啦！")]),a._v(" "),t("blockquote",[t("p",[a._v("本文作者："),t("a",{attrs:{href:"https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah",target:"_blank",rel:"noopener noreferrer"}},[a._v("程序员鱼皮"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("本站地址："),t("a",{attrs:{href:"https://codefather.cn",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://codefather.cn"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("大家好，我是鲏。")]),a._v(" "),t("p",[a._v("前几天给大家分享了我自制的 "),t("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247527409&idx=1&sn=a9290a4afed64915dbdce772c43317ad&chksm=e9c28c06deb505109befb162ba647c19a895fa7378df931325102bec016d9e2bcd58d055bdf5&token=433093177&lang=zh_CN&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[a._v("代码 + 数据生成工具"),t("OutboundLink")],1),a._v(" ：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807207.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("虽然这是一个完全免费的工具网站，但仍然有一些热心网友给我送来了 DDOS 流量包，在这里非常 "),t("strong",[a._v("感谢")]),a._v(" 大家对本网站的认可，但还是希望大家手下留情。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807182.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("我早就猜到事情会这样，所以早就做好了开源的打算。这样万一网站再次挂掉，大家也可以直接用现成的代码自己部署一套！够意思吧~")]),a._v(" "),t("p",[a._v("开源代码如下：")]),a._v(" "),t("ul",[t("li",[a._v("前端：https://github.com/liyupi/sql-father-frontend-public")]),a._v(" "),t("li",[a._v("后端：https://github.com/liyupi/sql-father-backend-public")])]),a._v(" "),t("p",[a._v("感兴趣的同学自取即可。")]),a._v(" "),t("p",[a._v("此外，为了帮助大家更好地学习和理解这个项目，我还录制了一期视频来讲解项目的技术、运行、设计和源码，5 分钟就能快速上手，戳这里查看："),t("strong",[a._v("https://www.bilibili.com/video/BV1hG411L79U/")]),a._v("（有帮助的话希望给个三连哈哈）")]),a._v(" "),t("p",[a._v("下面也用文字简单介绍下这个项目。")]),a._v(" "),t("h2",{attrs:{id:"项目特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目特点"}},[a._v("#")]),a._v(" 项目特点")]),a._v(" "),t("p",[a._v("项目本身功能完整（分为用户前台和管理后台）、达到上线标准、架构设计清晰、目录结构规范。")]),a._v(" "),t("p",[a._v("前端用到了复杂的嵌套 & 动态 & 可折叠表单、代码编辑器；后端用到了多种主流设计模式、AOP 切面鉴权等，还是非常值得朋友们学习的。")]),a._v(" "),t("h2",{attrs:{id:"技术栈"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#技术栈"}},[a._v("#")]),a._v(" 技术栈")]),a._v(" "),t("p",[a._v("这里我选用的都是主流的、我自己用的比较熟练的技术。")]),a._v(" "),t("h3",{attrs:{id:"前端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[a._v("#")]),a._v(" 前端")]),a._v(" "),t("p",[a._v("主要技术：")]),a._v(" "),t("ul",[t("li",[a._v("React 18")]),a._v(" "),t("li",[a._v("Umi 4.x")]),a._v(" "),t("li",[a._v("Ant Design 4.x 组件库")]),a._v(" "),t("li",[a._v("Ant Design Pro Components 高级组件")]),a._v(" "),t("li",[a._v("TypeScript 类型控制")]),a._v(" "),t("li",[a._v("Eslint 代码规范控制")]),a._v(" "),t("li",[a._v("Prettier 美化代码")])]),a._v(" "),t("p",[a._v("依赖库：")]),a._v(" "),t("ul",[t("li",[a._v("monaco-editor 代码编辑器")]),a._v(" "),t("li",[a._v("copy-to-clipboard 剪切板复制")])]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807191.png",loading:"lazy"}})]),a._v(" "),t("blockquote",[t("p",[a._v("代码编辑器")])]),a._v(" "),t("h3",{attrs:{id:"后端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[a._v("#")]),a._v(" 后端")]),a._v(" "),t("p",[a._v("主要技术：")]),a._v(" "),t("ul",[t("li",[a._v("Spring Boot 2.7.x")]),a._v(" "),t("li",[a._v("MyBatis Plus 3.5.x")]),a._v(" "),t("li",[a._v("MySQL 8.x")]),a._v(" "),t("li",[a._v("Spring AOP")])]),a._v(" "),t("p",[a._v("依赖库：")]),a._v(" "),t("ul",[t("li",[a._v("FreeMarker：模板引擎")]),a._v(" "),t("li",[a._v("Druid：SQL 解析")]),a._v(" "),t("li",[a._v("datafaker：模拟数据")]),a._v(" "),t("li",[a._v("Apache Commons Lang3：工具库")]),a._v(" "),t("li",[a._v("Hutool：工具库")]),a._v(" "),t("li",[a._v("Gson：Json 解析")]),a._v(" "),t("li",[a._v("Easy Excel：Excel 导入导出")]),a._v(" "),t("li",[a._v("Knife4j：接口文档生成")])]),a._v(" "),t("h2",{attrs:{id:"系统设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统设计"}},[a._v("#")]),a._v(" 系统设计")]),a._v(" "),t("h3",{attrs:{id:"整体架构设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整体架构设计"}},[a._v("#")]),a._v(" 整体架构设计")]),a._v(" "),t("p",[a._v("核心设计理念：将各输入方式统一为明确的 Schema，并根据 Schema 生成各类内容。")]),a._v(" "),t("p",[a._v("架构设计图如下，即任意输入 => 统一 Schema => 任意输出：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807147.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("系统分为以下几个核心模块，各模块职责分明：")]),a._v(" "),t("ol",[t("li",[a._v("Schema 构造器：将各种不同的输入源转为统一的 Table Schema 定义")]),a._v(" "),t("li",[a._v("统一 Schema 定义：本质是一个 Java 类（JSON 配置），用于保存表和字段的信息")]),a._v(" "),t("li",[a._v("生成器：负责根据 Schema 生成数据和代码")]),a._v(" "),t("li",[a._v("共享服务：包括词库、表信息、字段信息共享")])]),a._v(" "),t("h3",{attrs:{id:"schema-构造器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#schema-构造器"}},[a._v("#")]),a._v(" Schema 构造器")]),a._v(" "),t("p",[a._v("核心类：TableSchemaBuilder，作用是将不同的参数统一收敛为 TableSchema 对象。")]),a._v(" "),t("p",[a._v("包含如下方法：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807159.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("其中，buildFromSql（根据 SQL 生成 Schema）使用了 Druid 数据库连接池自带的语法解析器，非常强大。（解析器这种东西一般不要自己写，有这时间你都能做几个项目了，写出来还没人家的好用)")]),a._v(" "),t("h3",{attrs:{id:"schema-定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#schema-定义"}},[a._v("#")]),a._v(" Schema 定义")]),a._v(" "),t("p",[a._v("用于保存表和字段的信息，示例结构如下：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "dbName": "库名",\n  "tableName": "test_table",\n  "tableComment": "表注释",\n  "mockNum": 20,\n  "fieldList": [{\n    "fieldName": "username",\n    "comment": "用户名",\n    "fieldType": "varchar(256)",\n    "mockType": "随机",\n    "mockParams": "人名",\n    "notNull": true,\n    "primaryKey": false,\n    "autoIncrement": false\n  }]\n}\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br")])]),t("h3",{attrs:{id:"生成器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成器"}},[a._v("#")]),a._v(" 生成器")]),a._v(" "),t("h4",{attrs:{id:"多种生成类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多种生成类型"}},[a._v("#")]),a._v(" 多种生成类型")]),a._v(" "),t("p",[a._v("将每种生成类型定义为一个 Builder：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807172.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("其中，对于 SQL 代码生成器（ SqlBuilder），使用方言来支持不同的数据库类型（策略模式），并使用单例模式 + 工厂模式创建方言实例。")]),a._v(" "),t("p",[a._v("对于 Java、前端代码生成器（JavaCodeBuilder、FrontendCodeBuilder），使用 FreeMarker 模板引擎来生成。模板代码如下：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807873.png",loading:"lazy"}})]),a._v(" "),t("h4",{attrs:{id:"多种模拟数据生成规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多种模拟数据生成规则"}},[a._v("#")]),a._v(" 多种模拟数据生成规则")]),a._v(" "),t("p",[a._v("每种生成规则定义为一个 Generator，使用 DataGeneratorFactory（工厂模式）对多个 Generator 实例进行统一的创建和管理。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807910.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("使用 dataFaker 库实现随机数据生成（RandomDataGenerator）。")]),a._v(" "),t("p",[a._v("使用 Generex 库实现正则表达式数据生成（RuleDataGenerator)。")]),a._v(" "),t("h4",{attrs:{id:"统一的生成入口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统一的生成入口"}},[a._v("#")]),a._v(" 统一的生成入口")]),a._v(" "),t("p",[a._v("使用门面模式聚合各种生成类型，提供统一的生成调用和校验方法：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807915.png",loading:"lazy"}})]),a._v(" "),t("h2",{attrs:{id:"欢迎贡献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#欢迎贡献"}},[a._v("#")]),a._v(" 欢迎贡献")]),a._v(" "),t("p",[a._v("由于我本人的时间有限，后续这个项目估计不会做很大的更新。大家感兴趣的话可以自行扩展项目，但是在提交代码前记得要检查是否遵循项目规范哦。")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("最后，欢迎学编程的朋友们加入我的 "),t("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247524980&idx=2&sn=9ddcdb6c52aa096ed4c5ad0ced946a7d&chksm=e9c28583deb50c95f3c2665713a8bbc372c68332b3bfb846cf4b23af3f1cc07164832a291335&token=689599617&lang=zh_CN&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[a._v("编程知识星球"),t("OutboundLink")],1),a._v("（访问 https://yupi.icu 了解详情），带你一起学编程、做项目、向鱼皮 1 对 1 提问、帮你做学习和求职的规划指导、修改简历等。我会在圈子内带大家从 0 到 1 分析解读这个项目，争取让大家项目经历 +1。可以加我微信 yupi5927，备注【加入星球】和自己的情况优惠加入星球，不备注不通过，非诚勿扰谢谢。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pic.yupi.icu/5563/202311090807973.jpeg",loading:"lazy"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);